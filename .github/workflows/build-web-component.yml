name: Update web components files

on: 
  # Triggers the workflow on push or pull request events but only for the main branch
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs: 
  clone-and-build-web-component:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v3
        with:
          node-version: 14
      - name: Clone the quml-player
        run: git clone https://github.com/project-sunbird/sunbird-quml-player.git
      # - name: Checkout to latest branch
      #   run: |
      #     cd sunbird-quml-player && git checkout release-5.2.0
      #     npm install && cd projects/quml-library && npm install
      #     cd ..
      #     npm run build-web-component
      #     cd .. && ls
      - name: Copy web-component files to Angular Project
        run: |
          cp sunbird-quml-player/*.* angular-app/src/assets/sunbird/*
          cp sunbird-quml-player/assets/*.* angular-app/src/assets/sunbird/*
